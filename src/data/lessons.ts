export interface Lesson {
  title: string;
  question: string;
  options: string[];
  correct: number;
  explanation: string;
  icon: string;
  phase: number;
}

export interface Phase {
  id: number;
  name: string;
  description: string;
  icon: string;
}

export const phases: Phase[] = [
  { id: 1, name: "Floresta dos Iniciantes", description: "Fundamentos de C#", icon: "üå≤" },
  { id: 2, name: "Biblioteca Arcana", description: "Orienta√ß√£o a Objetos", icon: "üìö" },
  { id: 3, name: "Dungeon das Sombras", description: "Programa√ß√£o Avan√ßada", icon: "üèöÔ∏è" },
  { id: 4, name: "Castelo do Mestre", description: "Arquitetura e Padr√µes", icon: "üè∞" },
  { id: 5, name: "Cavernas de Cristal", description: "APIs e Web Services", icon: "üíé" },
  { id: 6, name: "Torre do Feiticeiro", description: "Banco de Dados e EF Core", icon: "üóº" },
  { id: 7, name: "Vulc√£o Ancestral", description: "Testes e Qualidade", icon: "üåã" },
  { id: 8, name: "Santu√°rio Celestial", description: "Cloud e DevOps", icon: "‚òÅÔ∏è" },
];

export const lessons: Lesson[] = [
  // ============ FASE 1: FLORESTA DOS INICIANTES (B√°sico) ============
  {
    title: "Vari√°veis",
    question: "Qual √© a forma correta de declarar uma vari√°vel inteira em C#?",
    options: [
      'int numero = "10";',
      "int numero = 10;",
      "var numero : int = 10;",
    ],
    correct: 1,
    explanation: "Inteiros usam o tipo int e n√£o levam aspas.",
    icon: "‚öîÔ∏è",
    phase: 1,
  },
  {
    title: "Condicionais",
    question: 'Complete:\nif (_____) { Console.WriteLine("Ok"); }',
    options: ["true", '"true"', "= true"],
    correct: 0,
    explanation: "Condi√ß√µes precisam ser booleanas, n√£o strings.",
    icon: "üõ°Ô∏è",
    phase: 1,
  },
  {
    title: "Loops",
    question: "Qual loop √© ideal quando voc√™ sabe exatamente quantas vezes quer repetir?",
    options: ["while", "foreach", "for"],
    correct: 2,
    explanation: "Use for quando a quantidade de repeti√ß√µes √© conhecida.",
    icon: "üîÑ",
    phase: 1,
  },
  {
    title: "M√©todos",
    question: "Qual √© a forma correta de declarar um m√©todo em C#?",
    options: ["function Soma() {}", "void Soma() {}", "method Soma() {}"],
    correct: 1,
    explanation: "Em C#, m√©todos usam tipo de retorno (void, int, string‚Ä¶).",
    icon: "üéØ",
    phase: 1,
  },
  {
    title: "Strings",
    question: "Como concatenar duas strings em C#?",
    options: [
      'string resultado = str1 + str2;',
      'string resultado = str1 & str2;',
      'string resultado = str1.add(str2);',
    ],
    correct: 0,
    explanation: "O operador + √© usado para concatenar strings em C#.",
    icon: "üìù",
    phase: 1,
  },
  {
    title: "Tipos de Valor",
    question: "Qual destes √© um tipo de valor em C#?",
    options: ["string", "object", "int"],
    correct: 2,
    explanation: "int √© um value type, armazenado diretamente na stack.",
    icon: "üíé",
    phase: 1,
  },

  // ============ FASE 2: BIBLIOTECA ARCANA (Orienta√ß√£o a Objetos) ============
  {
    title: "Classes",
    question: "Qual palavra-chave usamos para criar uma classe?",
    options: ["struct", "object", "class"],
    correct: 2,
    explanation: "A palavra-chave class define uma classe.",
    icon: "üè∞",
    phase: 2,
  },
  {
    title: "Construtores",
    question: "Qual √© a fun√ß√£o de um construtor?",
    options: ["Destruir objetos", "Inicializar o objeto", "Criar m√©todos"],
    correct: 1,
    explanation: "Construtores inicializam o estado do objeto.",
    icon: "üî®",
    phase: 2,
  },
  {
    title: "Encapsulamento",
    question: "Qual modificador torna um membro acess√≠vel apenas dentro da classe?",
    options: ["public", "protected", "private"],
    correct: 2,
    explanation: "private restringe acesso apenas √† pr√≥pria classe.",
    icon: "üîí",
    phase: 2,
  },
  {
    title: "Propriedades",
    question: "Qual √© a sintaxe correta para uma propriedade autom√°tica?",
    options: [
      "public int Idade { get; set; }",
      "public int Idade = get, set;",
      "property int Idade { get; set; }",
    ],
    correct: 0,
    explanation: "Propriedades autom√°ticas usam { get; set; } ap√≥s o tipo.",
    icon: "üîê",
    phase: 2,
  },
  {
    title: "Heran√ßa",
    question: "Como uma classe Cachorro herda de Animal?",
    options: [
      "class Cachorro extends Animal",
      "class Cachorro : Animal",
      "class Cachorro inherits Animal",
    ],
    correct: 1,
    explanation: "Em C#, usamos : (dois pontos) para indicar heran√ßa.",
    icon: "üß¨",
    phase: 2,
  },
  {
    title: "Polimorfismo",
    question: "Qual palavra-chave permite sobrescrever um m√©todo na classe filha?",
    options: ["new", "override", "virtual"],
    correct: 1,
    explanation: "override sobrescreve um m√©todo marcado como virtual na classe base.",
    icon: "üé≠",
    phase: 2,
  },

  // ============ FASE 3: DUNGEON DAS SOMBRAS (Avan√ßado) ============
  {
    title: "LINQ B√°sico",
    question: "Qual m√©todo LINQ filtra elementos de uma cole√ß√£o?",
    options: ["Select()", "Where()", "OrderBy()"],
    correct: 1,
    explanation: "Where() filtra elementos com base em uma condi√ß√£o.",
    icon: "üîÆ",
    phase: 3,
  },
  {
    title: "LINQ Select",
    question: "O que o m√©todo Select() faz no LINQ?",
    options: [
      "Filtra elementos",
      "Projeta/transforma elementos",
      "Ordena elementos",
    ],
    correct: 1,
    explanation: "Select() transforma cada elemento em uma nova forma.",
    icon: "‚ú®",
    phase: 3,
  },
  {
    title: "Async/Await",
    question: "Para que serve o async/await?",
    options: [
      "Executar c√≥digo mais r√°pido",
      "Evitar bloqueio da aplica√ß√£o",
      "Criar threads manualmente",
    ],
    correct: 1,
    explanation: "Async evita travar a aplica√ß√£o enquanto espera algo terminar.",
    icon: "‚ö°",
    phase: 3,
  },
  {
    title: "Exce√ß√µes",
    question: "Qual bloco usamos para tratar erros?",
    options: ["catch", "try/catch", "error"],
    correct: 1,
    explanation: "try/catch captura exce√ß√µes e evita que a app quebre.",
    icon: "üõ°Ô∏è",
    phase: 3,
  },
  {
    title: "Delegates",
    question: "O que √© um delegate em C#?",
    options: [
      "Um tipo de vari√°vel est√°tica",
      "Uma refer√™ncia para um m√©todo",
      "Um modificador de acesso",
    ],
    correct: 1,
    explanation: "Delegates s√£o ponteiros type-safe para m√©todos.",
    icon: "üé≠",
    phase: 3,
  },
  {
    title: "Interfaces",
    question: "Qual a principal diferen√ßa entre interface e classe abstrata?",
    options: [
      "Interfaces podem ter implementa√ß√£o completa",
      "Classes podem implementar m√∫ltiplas interfaces",
      "Interfaces usam a palavra 'abstract'",
    ],
    correct: 1,
    explanation: "C# suporta m√∫ltiplas interfaces, mas s√≥ uma classe base.",
    icon: "üìã",
    phase: 3,
  },
  {
    title: "Generics",
    question: "Qual √© a vantagem de usar Generics em C#?",
    options: [
      "C√≥digo mais lento mas seguro",
      "Type safety e reutiliza√ß√£o de c√≥digo",
      "Apenas para cole√ß√µes",
    ],
    correct: 1,
    explanation: "Generics proporcionam type safety em tempo de compila√ß√£o e reuso.",
    icon: "üß©",
    phase: 3,
  },

  // ============ FASE 4: CASTELO DO MESTRE (Arquitetura e Padr√µes) ============
  {
    title: "SOLID - S",
    question: "O que significa o 'S' em SOLID?",
    options: [
      "Single Responsibility Principle",
      "Static Method Principle",
      "Simple Code Principle",
    ],
    correct: 0,
    explanation: "Uma classe deve ter apenas uma raz√£o para mudar.",
    icon: "‚≠ê",
    phase: 4,
  },
  {
    title: "SOLID - O",
    question: "O que significa o 'O' em SOLID (Open/Closed)?",
    options: [
      "Classes devem ser abertas para modifica√ß√£o",
      "Aberto para extens√£o, fechado para modifica√ß√£o",
      "Objetos devem ser sempre p√∫blicos",
    ],
    correct: 1,
    explanation: "Devemos estender comportamento sem alterar c√≥digo existente.",
    icon: "üö™",
    phase: 4,
  },
  {
    title: "SOLID - D",
    question: "O que o 'D' (Dependency Inversion) preconiza?",
    options: [
      "Depender de implementa√ß√µes concretas",
      "Depender de abstra√ß√µes, n√£o de implementa√ß√µes",
      "Deletar depend√™ncias desnecess√°rias",
    ],
    correct: 1,
    explanation: "M√≥dulos de alto n√≠vel n√£o devem depender de m√≥dulos de baixo n√≠vel.",
    icon: "üîÑ",
    phase: 4,
  },
  {
    title: "Singleton",
    question: "Qual padr√£o garante que uma classe tenha apenas uma inst√¢ncia?",
    options: ["Factory", "Singleton", "Observer"],
    correct: 1,
    explanation: "Singleton restringe a instancia√ß√£o a um √∫nico objeto.",
    icon: "üëë",
    phase: 4,
  },
  {
    title: "Factory Pattern",
    question: "Qual √© o objetivo do padr√£o Factory?",
    options: [
      "Criar objetos sem expor a l√≥gica de cria√ß√£o",
      "Garantir uma √∫nica inst√¢ncia",
      "Observar mudan√ßas de estado",
    ],
    correct: 0,
    explanation: "Factory encapsula a cria√ß√£o de objetos.",
    icon: "üè≠",
    phase: 4,
  },
  {
    title: "Repository Pattern",
    question: "O que o padr√£o Repository abstrai?",
    options: [
      "A interface do usu√°rio",
      "O acesso aos dados",
      "A l√≥gica de neg√≥cio",
    ],
    correct: 1,
    explanation: "Repository isola a l√≥gica de acesso a dados do resto da aplica√ß√£o.",
    icon: "üì¶",
    phase: 4,
  },
  {
    title: "Dependency Injection",
    question: "Qual √© o principal benef√≠cio da Inje√ß√£o de Depend√™ncia?",
    options: [
      "C√≥digo mais r√°pido",
      "Baixo acoplamento e testabilidade",
      "Menos linhas de c√≥digo",
    ],
    correct: 1,
    explanation: "DI facilita testes e reduz depend√™ncias entre classes.",
    icon: "üíâ",
    phase: 4,
  },

  // ============ FASE 5: CAVERNAS DE CRISTAL (APIs e Web Services) ============
  {
    title: ".NET CLI",
    question: "Qual comando cria um novo projeto Web API em .NET?",
    options: [
      "dotnet new api",
      "dotnet new webapi",
      "dotnet create webapi",
    ],
    correct: 1,
    explanation: "dotnet new webapi cria uma API REST com ASP.NET Core.",
    icon: "üíª",
    phase: 5,
  },
  {
    title: "HTTP Methods",
    question: "Qual verbo HTTP √© usado para atualizar um recurso completamente?",
    options: ["POST", "PATCH", "PUT"],
    correct: 2,
    explanation: "PUT substitui o recurso inteiro, PATCH faz atualiza√ß√£o parcial.",
    icon: "üåê",
    phase: 5,
  },
  {
    title: "Status Codes",
    question: "Qual status code indica que um recurso foi criado com sucesso?",
    options: ["200 OK", "201 Created", "204 No Content"],
    correct: 1,
    explanation: "201 Created indica que um novo recurso foi criado.",
    icon: "üìä",
    phase: 5,
  },
  {
    title: "Controllers",
    question: "Qual atributo define uma rota em um controller ASP.NET?",
    options: ["[HttpGet]", "[Route]", "[ApiController]"],
    correct: 1,
    explanation: "[Route] define o template de URL para o controller ou action.",
    icon: "üéÆ",
    phase: 5,
  },
  {
    title: "Model Binding",
    question: "De onde o [FromBody] obt√©m os dados?",
    options: ["Query string", "Corpo da requisi√ß√£o JSON", "Headers"],
    correct: 1,
    explanation: "[FromBody] deserializa o JSON do corpo da requisi√ß√£o.",
    icon: "üì•",
    phase: 5,
  },
  {
    title: "Middleware",
    question: "O que √© Middleware no ASP.NET Core?",
    options: [
      "Um tipo de banco de dados",
      "Componentes que processam requisi√ß√µes no pipeline",
      "Uma biblioteca de UI",
    ],
    correct: 1,
    explanation: "Middleware s√£o componentes que formam o pipeline de requisi√ß√µes.",
    icon: "üîó",
    phase: 5,
  },
  {
    title: "JWT",
    question: "Para que serve o JWT (JSON Web Token)?",
    options: [
      "Criptografar banco de dados",
      "Autentica√ß√£o e autoriza√ß√£o stateless",
      "Comprimir respostas HTTP",
    ],
    correct: 1,
    explanation: "JWT permite autentica√ß√£o sem estado no servidor.",
    icon: "üîë",
    phase: 5,
  },
  {
    title: "Swagger",
    question: "Qual √© a fun√ß√£o do Swagger/OpenAPI?",
    options: [
      "Compilar c√≥digo C#",
      "Documentar e testar APIs",
      "Gerenciar banco de dados",
    ],
    correct: 1,
    explanation: "Swagger gera documenta√ß√£o interativa para APIs.",
    icon: "üìñ",
    phase: 5,
  },

  // ============ FASE 6: TORRE DO FEITICEIRO (Banco de Dados e EF Core) ============
  {
    title: "Entity Framework",
    question: "O que o Entity Framework Core faz?",
    options: [
      "Gerencia conex√µes HTTP",
      "Mapeia objetos para banco de dados (ORM)",
      "Cria interfaces gr√°ficas",
    ],
    correct: 1,
    explanation: "EF Core √© um ORM que mapeia classes C# para tabelas SQL.",
    icon: "üóÉÔ∏è",
    phase: 6,
  },
  {
    title: "DbContext",
    question: "Qual √© a fun√ß√£o do DbContext no EF Core?",
    options: [
      "Definir rotas da API",
      "Representar uma sess√£o com o banco de dados",
      "Criar migrations",
    ],
    correct: 1,
    explanation: "DbContext √© a ponte entre seu c√≥digo e o banco de dados.",
    icon: "üåâ",
    phase: 6,
  },
  {
    title: "Migrations",
    question: "Qual comando cria uma nova migration no EF Core?",
    options: [
      "dotnet ef migrations add NomeMigration",
      "dotnet ef database update",
      "dotnet ef migrations create",
    ],
    correct: 0,
    explanation: "add cria a migration, update aplica no banco.",
    icon: "üìú",
    phase: 6,
  },
  {
    title: "DbSet",
    question: "O que um DbSet<T> representa?",
    options: [
      "Uma conex√£o com a API",
      "Uma tabela no banco de dados",
      "Um arquivo de configura√ß√£o",
    ],
    correct: 1,
    explanation: "DbSet<T> representa uma cole√ß√£o de entidades (tabela).",
    icon: "üìã",
    phase: 6,
  },
  {
    title: "Fluent API",
    question: "Para que serve a Fluent API no EF Core?",
    options: [
      "Fazer requisi√ß√µes HTTP",
      "Configurar mapeamento de entidades",
      "Validar formul√°rios",
    ],
    correct: 1,
    explanation: "Fluent API permite configura√ß√£o detalhada do modelo no OnModelCreating.",
    icon: "üîß",
    phase: 6,
  },
  {
    title: "Lazy Loading",
    question: "O que √© Lazy Loading no EF Core?",
    options: [
      "Carregar dados imediatamente",
      "Carregar dados relacionados sob demanda",
      "N√£o carregar dados nunca",
    ],
    correct: 1,
    explanation: "Lazy Loading carrega navega√ß√µes apenas quando acessadas.",
    icon: "üí§",
    phase: 6,
  },
  {
    title: "Include",
    question: "Para que serve o m√©todo Include() no EF Core?",
    options: [
      "Filtrar resultados",
      "Carregar entidades relacionadas (Eager Loading)",
      "Paginar resultados",
    ],
    correct: 1,
    explanation: "Include faz Eager Loading de navega√ß√µes relacionadas.",
    icon: "üìé",
    phase: 6,
  },
  {
    title: "Transa√ß√µes",
    question: "Como garantir que m√∫ltiplas opera√ß√µes sejam at√¥micas?",
    options: [
      "Usando try/catch",
      "Usando transa√ß√µes (BeginTransaction)",
      "Usando async/await",
    ],
    correct: 1,
    explanation: "Transa√ß√µes garantem que todas as opera√ß√µes completem ou nenhuma.",
    icon: "‚öõÔ∏è",
    phase: 6,
  },

  // ============ FASE 7: VULC√ÉO ANCESTRAL (Testes e Qualidade) ============
  {
    title: "Tipos de Teste",
    question: "Qual tipo de teste verifica uma unidade isolada de c√≥digo?",
    options: ["Teste de Integra√ß√£o", "Teste Unit√°rio", "Teste E2E"],
    correct: 1,
    explanation: "Testes unit√°rios testam m√©todos/classes isoladamente.",
    icon: "üß™",
    phase: 7,
  },
  {
    title: "xUnit",
    question: "Qual atributo marca um m√©todo de teste no xUnit?",
    options: ["[Test]", "[Fact]", "[TestMethod]"],
    correct: 1,
    explanation: "[Fact] √© usado no xUnit para testes sem par√¢metros.",
    icon: "‚úÖ",
    phase: 7,
  },
  {
    title: "Theory",
    question: "Para que serve [Theory] no xUnit?",
    options: [
      "Testes sem par√¢metros",
      "Testes parametrizados com m√∫ltiplos dados",
      "Testes de integra√ß√£o",
    ],
    correct: 1,
    explanation: "[Theory] permite rodar o mesmo teste com diferentes dados.",
    icon: "üìä",
    phase: 7,
  },
  {
    title: "Mocking",
    question: "Qual √© o objetivo de usar Mocks em testes?",
    options: [
      "Acelerar a execu√ß√£o",
      "Simular depend√™ncias externas",
      "Gerar dados aleat√≥rios",
    ],
    correct: 1,
    explanation: "Mocks substituem depend√™ncias reais por simula√ß√µes controladas.",
    icon: "üé≠",
    phase: 7,
  },
  {
    title: "Moq",
    question: "Como criar um mock com Moq?",
    options: [
      "var mock = new Mock<IService>();",
      "var mock = Mock.Create<IService>();",
      "var mock = IService.Mock();",
    ],
    correct: 0,
    explanation: "new Mock<T>() cria um mock do tipo especificado.",
    icon: "üÉè",
    phase: 7,
  },
  {
    title: "Arrange-Act-Assert",
    question: "O que significa o padr√£o AAA em testes?",
    options: [
      "Always Assume Assertions",
      "Arrange-Act-Assert",
      "Async-Await-Assert",
    ],
    correct: 1,
    explanation: "AAA organiza testes em: preparar, executar, verificar.",
    icon: "üìê",
    phase: 7,
  },
  {
    title: "Code Coverage",
    question: "O que Code Coverage mede?",
    options: [
      "Performance do c√≥digo",
      "Porcentagem do c√≥digo coberta por testes",
      "Quantidade de bugs",
    ],
    correct: 1,
    explanation: "Coverage indica quanto do c√≥digo √© exercitado pelos testes.",
    icon: "üìà",
    phase: 7,
  },
  {
    title: "FluentAssertions",
    question: "Qual √© a vantagem do FluentAssertions?",
    options: [
      "Testes mais r√°pidos",
      "Assertions mais leg√≠veis e expressivas",
      "Gera√ß√£o autom√°tica de testes",
    ],
    correct: 1,
    explanation: "FluentAssertions torna asser√ß√µes mais naturais de ler.",
    icon: "üí¨",
    phase: 7,
  },

  // ============ FASE 8: SANTU√ÅRIO CELESTIAL (Cloud e DevOps) ============
  {
    title: "Docker",
    question: "O que √© um container Docker?",
    options: [
      "Uma m√°quina virtual completa",
      "Um ambiente isolado e leve para executar aplica√ß√µes",
      "Um tipo de banco de dados",
    ],
    correct: 1,
    explanation: "Containers isolam aplica√ß√µes sem o overhead de VMs.",
    icon: "üê≥",
    phase: 8,
  },
  {
    title: "Dockerfile",
    question: "Qual instru√ß√£o define a imagem base no Dockerfile?",
    options: ["RUN", "FROM", "COPY"],
    correct: 1,
    explanation: "FROM especifica a imagem base para construir o container.",
    icon: "üìÑ",
    phase: 8,
  },
  {
    title: "CI/CD",
    question: "O que significa CI/CD?",
    options: [
      "Code Integration / Code Deployment",
      "Continuous Integration / Continuous Delivery",
      "Container Image / Container Deploy",
    ],
    correct: 1,
    explanation: "CI/CD automatiza build, testes e deploy de aplica√ß√µes.",
    icon: "üîÑ",
    phase: 8,
  },
  {
    title: "GitHub Actions",
    question: "Onde s√£o definidos os workflows do GitHub Actions?",
    options: [
      "Na pasta .github/workflows",
      "No arquivo package.json",
      "No README.md",
    ],
    correct: 0,
    explanation: "Workflows s√£o arquivos YAML na pasta .github/workflows.",
    icon: "‚öôÔ∏è",
    phase: 8,
  },
  {
    title: "Azure App Service",
    question: "O que o Azure App Service oferece?",
    options: [
      "Apenas banco de dados",
      "Hospedagem gerenciada para aplica√ß√µes web",
      "Apenas armazenamento de arquivos",
    ],
    correct: 1,
    explanation: "App Service √© PaaS para hospedar apps web sem gerenciar infra.",
    icon: "‚òÅÔ∏è",
    phase: 8,
  },
  {
    title: "Environment Variables",
    question: "Por que usar vari√°veis de ambiente para configura√ß√µes?",
    options: [
      "Para acelerar a aplica√ß√£o",
      "Para separar configura√ß√£o do c√≥digo e proteger secrets",
      "Para reduzir o tamanho do c√≥digo",
    ],
    correct: 1,
    explanation: "Env vars mant√™m secrets fora do c√≥digo fonte.",
    icon: "üîê",
    phase: 8,
  },
  {
    title: "Health Checks",
    question: "Para que servem Health Checks em APIs?",
    options: [
      "Monitorar sa√∫de dos desenvolvedores",
      "Verificar se a aplica√ß√£o est√° funcionando corretamente",
      "Acelerar as requisi√ß√µes",
    ],
    correct: 1,
    explanation: "Health Checks permitem monitoramento e load balancing inteligente.",
    icon: "üíö",
    phase: 8,
  },
  {
    title: "Logging",
    question: "Qual √© a pr√°tica recomendada para logging em produ√ß√£o?",
    options: [
      "Console.WriteLine em todo lugar",
      "Usar um framework de logging estruturado (Serilog, NLog)",
      "N√£o fazer logging para melhor performance",
    ],
    correct: 1,
    explanation: "Logging estruturado facilita an√°lise e debugging em produ√ß√£o.",
    icon: "üìù",
    phase: 8,
  },
];

// Helper function to get lessons by phase
export const getLessonsByPhase = (phaseId: number): Lesson[] => {
  return lessons.filter((lesson) => lesson.phase === phaseId);
};

// Helper function to get current phase based on lesson index
export const getCurrentPhase = (lessonIndex: number): Phase => {
  const lesson = lessons[lessonIndex];
  return phases.find((p) => p.id === lesson?.phase) || phases[0];
};
